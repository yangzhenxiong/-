## 作业一：

- 请简述 JVM 垃圾回收原理。
- 设计一个秒杀系统，主要的挑战和问题有哪些？核心的架构方案或者思路有哪些？

### JVM垃圾回收原理

对象什么时候可以被回收：一般一个对象不再被引用，就代表该对象可以被回收了。目前有以下两种算法可以判断对象是否可以被回收。

引用计数算法：这种算法是通过一个对象的引用计数器来判断该对象是否被引用了。每当对象被引用，引用计数器就会加 1；每当引用失效，计数器就会减 1。当对象的引用计数器的值为 0 时，就说明该对象不再被引用，可以被回收了。这里强调一点，虽然引用计数算法的实现简单，判断效率也很高，但它存在着对象之间相互循环引用的问题。

可达性分析算法：GC Roots 是该算法的基础，GC Roots 是所有对象的根对象，在 JVM 加载时，会创建一些普通对象引用正常对象。这些对象作为正常对象的起始点，在垃圾回收时，会从这些 GC Roots 开始向下搜索，当一个对象到 GC Roots 没有任何引用链相连时，就证明此对象是不可用的。

JVM提供了不同的回收算法来实现这套回收机制，通常可以分为以下几类：

| 回收算法类型  | 优点                       | 缺点                                                   |
| ------------- | -------------------------- | ------------------------------------------------------ |
| 标记-清除算法 | 不需要移动对象，简单高效   | 效率低，GC产生内存碎片                                 |
| 复制算法      | 简单高效，不会产生内存碎片 | 内存使用率低，有可能产生频繁复制问题                   |
| 标记-整理算法 | 综合了前两种算法的优点     | 仍然需要移动局部对象                                   |
| 分代手机算法  | 分区回收                   | 对于长时间存活对象的场景回收效果不明显，甚至起到反作用 |

