# 性能测试

性能测试是性能优化的前提和基础，是性能优化结果的检查和度量标准。

## 性能测试指标

- 响应时间
- 并发数
- 吞吐量：（1000/响应时间ms）*并发数。TPS（每秒事务数），HPS（每秒HTTP请求数），QPS（每秒查询数）
- 性能计数器：System Load、对象与线程数、内存、CPU使用、磁盘与网络I/O等指标

## 性能测试方法

- 性能测试
- 负载测试
- 压力测试
- 稳定性测试
- 全链路压测

# 大规模分布式系统性能优化

## 基本原则

- 你不能优化一个没有测试的软件
- 你不能优化一个你不了解的软件

## 一般方法

- 性能测试，获得性能指标
- 指标分析，发现性能与资源瓶颈点
- 架构与代码分析，寻找性能与资源瓶颈关键所在
- 架构与代码优化，优化关键技术点，平衡资源利用
- 性能测试，进入性能优化闭环

## 性能优化的分成思想

- 机房与骨干网络性能优化
- 服务器与硬件性能优化
- 操作系统性能优化
- 虚拟机性能优化
- 基础组件性能优化：jetty、apache、DBCP
- 软件架构性能优化：异步、缓存、集群
- 软件代码性能优化：并发编程（多线程与锁）、资源复用（线程池与对象池）、异步编程

# 操作系统

## 程序运行时架构

操作系统多任务运行环境



